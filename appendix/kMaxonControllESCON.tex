\chapter{Maxon Control Board: ESCON Software}\label{MaxonControlESCON} 
\textbf{Name: Group 630}\\
\textbf{Date: 29/04 - 2016}

\subsubsection{Purpose}
Get the configuration parameters through the ESCON software, which is used to configure the Maxon controller.  

\subsubsection{List of Equipment}
\begin{table}[H]
	\begin{tabular}{|p{10cm}|p{4cm}|}
		\hline%------------------------------------------------------------------------------------
		\textbf{Instrument}                &  \textbf{Type} \\
		\hline%------------------------------------------------------------------------------------
		Computer                           &  HP Elitebook 8570P  \\
		\hline%------------------------------------------------------------------------------------
	\end{tabular}
\end{table}

\subsubsection{Procedure}
\begin{enumerate}
  \item ESCON software is installed on the computer.
  \item The control board is connected by a USB cable to the computer and the ESCON software is started.
  \item The software automatically detects the controller and the configuration is uploaded to the software.
  \item The configuration is then collected.
\end{enumerate}

\subsubsection{Results/Data}
In the following text there are the most relevant configurations of the Maxon Control Board used in this project. Some of the data has been found on the data sheet of the ESCON module 50/5 and the Maxon Motor data sheet.

\textbf{PWM controller}\\
The control PWM runs at a frequency of \SI{53,6}{kHz} and the Maxon motor is customized for this frequency.
The PWM controller has been configured to use a Maxon motor EC 45 flat \SI{50}{W} (part no. 251601). The parameters in the controller are:
\begin{table}[H]
	\begin{tabular}{|l|l|p{4.3cm}|}
		\hline%------------------------------------------------------------------------------------------------------------
		\textbf{Motor characteristics}       &  \textbf{Value}         \\
		\hline%------------------------------------------------------------------------------------------------------------
		Speed constant                                & \SI{285,0}{rpm\cdot V^{-1}}           \\
		\hline%------------------------------------------------------------------------------------------------------------
		Terminal time constant winding							  & \SI{17,6}{s}              \\
		\hline%------------------------------------------------------------------------------------------------------------
		Number of pole pairs							  & 8              \\
		\hline%------------------------------------------------------------------------------------------------------------
	\end{tabular}
\end{table}

\textbf{Controller}\\
The controller has a maximum current drag in continuous operation of \SI{5}{A}. It has a no load nominal speed of \SI{6710}{rpm} and a stall current of \SI{23,3}{A}. The motor has been limited in the configuration software as following
\begin{table}[H]
	\begin{tabular}{|l|l|p{4.3cm}|}
		\hline%------------------------------------------------------------------------------------------------------------
		\textbf{System data}       &  \textbf{Value}         \\
		\hline%------------------------------------------------------------------------------------------------------------
		Max. permitted speed                                & \SI{1000}{rpm}           \\
		\hline%------------------------------------------------------------------------------------------------------------
		Nominal current							  & \SI{2,33}{A}              \\
		\hline%------------------------------------------------------------------------------------------------------------
		Max. output current limit							  & \SI{9,00}{A}              \\
		\hline%------------------------------------------------------------------------------------------------------------
	\end{tabular}
\end{table}

\textbf{Hall Sensors}\\
There are built-in hall sensors on the motor, used for detecting its position and velocity. 
\begin{table}[H]
	\begin{tabular}{|l|l|p{4.3cm}|}
		\hline%------------------------------------------------------------------------------------------------------------
		\textbf{Detection of rotation and speed}       &  \textbf{Value}         \\
		\hline%------------------------------------------------------------------------------------------------------------
		Speed sensor                                & Available Hall sensor           \\
		\hline%------------------------------------------------------------------------------------------------------------
		Digital sensor polarity							  & Inverted              \\
		\hline%------------------------------------------------------------------------------------------------------------
	\end{tabular}
\end{table}

\textbf{Control Loop}\\
The control can operate in open loop, close loop or current mode. The close loop and the current mode runs at a frequency of \SI{5,36}{kHz}. The controller has been configured to the following:
\begin{table}[H]
	\begin{tabular}{|l|l|p{4.3cm}|}
		\hline%------------------------------------------------------------------------------------------------------------
		\textbf{Mode of operation}       &  \textbf{Value}         \\
		\hline%------------------------------------------------------------------------------------------------------------
		Close loop                                & Current control           \\
		\hline%------------------------------------------------------------------------------------------------------------
		Gain							  & 268              \\
		\hline%------------------------------------------------------------------------------------------------------------
	\end{tabular}
\end{table}

\textbf{Digital Input}\\
The digital input can be configured, so the motor can be activated or change direction by a signal. The speed or current can be set by a PWM signal. Its configuration can be seen in the following table:
\begin{table}[H]
	\begin{tabular}{|l|l|p{4.3cm}|}
		\hline%------------------------------------------------------------------------------------------------------------
		\textbf{Digital input}       &  \textbf{Value}         \\
		\hline%------------------------------------------------------------------------------------------------------------
		Digital input 1                                & PWM           \\
		\hline%------------------------------------------------------------------------------------------------------------
		Current at 10\%							  & \SI{-4,00}{A}              \\
		\hline%------------------------------------------------------------------------------------------------------------
		Current at 90\%							  & \SI{4,00}{A}              \\
		\hline%------------------------------------------------------------------------------------------------------------
		Fixed offset							  & \SI{0,00}{A}              \\
		\hline%------------------------------------------------------------------------------------------------------------
		Digital input 2                                & Enable motor           \\
		\hline%------------------------------------------------------------------------------------------------------------
		On     &  High active       \\
		\hline%------------------------------------------------------------------------------------------------------------
	\end{tabular}
\end{table}

\textbf{Analog Output}\\
The analog output can be configured to give actual values of the motor, such speed or current. The analog output resolution is 12-bit and the voltage ranges from \SI{-4}{V} to \SI{4}{V}. The actual configuration of the analog output is the following:
\begin{table}[H]
	\begin{tabular}{|l|l|p{4.3cm}|}
		\hline%------------------------------------------------------------------------------------------------------------
		\textbf{Analog outputs}       &  \textbf{Value}         \\
		\hline%------------------------------------------------------------------------------------------------------------
		Analog output 1                                & Actual current           \\
		\hline%------------------------------------------------------------------------------------------------------------
		Current at: \SI{0}{V}							  & \SI{-4}{A}              \\
		\hline%------------------------------------------------------------------------------------------------------------
		Current at: \SI{4}{V}							  & \SI{4}{A}              \\
		\hline%------------------------------------------------------------------------------------------------------------
		Analog output 2							  & Actual speed              \\
		\hline%------------------------------------------------------------------------------------------------------------
		Speed at: \SI{1}{V}							  & \SI{-1000}{rpm}               \\
		\hline%------------------------------------------------------------------------------------------------------------
		Speed at: \SI{3}{V}							  & \SI{1000}{rpm}               \\
		\hline%------------------------------------------------------------------------------------------------------------
	\end{tabular}
\end{table}

