\chapter{Parameters of the Reaction Wheel}\label{app:wheelParameters} 
\textbf{Group 630}

\subsubsection{Purpose}
Provide a method to measure and estimate the wheel's mass, distance to the frame's pivoting point, inertia and friction to include these parameters in the model instead of previous groups'.

\subsubsection{Setup and Principle}

To measure the mass of the wheel, a scale can be used if the wheel is dismantled from the setup. To get the distance from the center of the wheel to the pivoting point of the frame, a precise ruler can be used.
The setup needed to estimate the wheel's inertia and friction can be seen on \figref{fig:wheelParameterTestSetup}.
\begin{figure}[H]
  \centering
  \includegraphics[scale=1]{figures/wheelParameterTestSetup}
  \caption{Setup diagram}
  \label{fig:wheelParameterTestSetup}
\end{figure}

By applying a current step to the motor, and measuring the output velocity, as shown on \figref{Parameters}, it is possible to use Senstools in a similar way to how it is used in \secref{sec:parameterEstimationUsingOptimization} with a Simulink model of the wheel and the attached motor. The inertia and friction parameters of the simulation model will be fitted to match the reality on this test.

\begin{figure}[H]
  \input{figures/blockDiagramParameters.tikz}
  \centering
  \caption{Block diagram of the wheel used for the simulation}
  \label{Parameters}
\end{figure}


\subsubsection{List of Equipment}
\begin{table}[H]
	\centering
  \begin{tabular}{|l|l|}
    \hline%------------------------------------------------------------------------------------------------------------
    \textbf{Instrument}                                    &  \textbf{Type}            \\
    \hline%------------------------------------------------------------------------------------------------------------
    Dedicated Power Supply of Cubli \small{(24 V - 3 A)}                     &  XP Power, AEB70US24      \\
    \hline%------------------------------------------------------------------------------------------------------------
    Probe                                                                    &  1:1                      \\
    \hline%------------------------------------------------------------------------------------------------------------
    Computer                                        &                           \\
    \hline%------------------------------------------------------------------------------------------------------------
  \end{tabular}
\end{table}

\subsubsection{Procedure}
\begin{enumerate}
  \item Plug the dedicated Power Supply Unit to the Cubli setup, then to the computer.
  \item Prepare the code so that a current step is applied to the motor after a certain amount of time and the velocity of the wheel and the actual current are logged into a file. Upload this program to the BeagleBone Black.
  \item Fix the frame tightly so that it doesn't move during the test.
  \item Launch the test program and wait a few seconds after the activation of the motor so that the wheel's velocity seems to saturate.
  \item Stop the program. Gather the CSV log file generated by the program, from the BeagleBone Black.
  \item It is possible to repeat the last two steps multiple times to have a set of tests to compare.
  \item Use the data to fit the model in Simulink with Senstools.
\end{enumerate}