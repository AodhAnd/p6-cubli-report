\section{Design of a Controller in State-Space}\label{sec:SSController}
The aim of the controller is to maintain the system in equilibrium position, which means that the reference for each state is always. 

With this assumption a new state matrix can be created such its poles are placed in the LHP and then the system becomes stable.This is done by adding a state feedback and a \si{3x1} gain matrix to the whole system, as seen in \figref{SSBlocksFeedback}.
%
\begin{figure}[H]
	\input{figures/SSBlockDiagramFeedback.tikz}
	\centering
	\caption{Block diagram}
\end{figure} \label{SSBlocksFeedback}
%
This new configuration gives a new equation for \si{\dot x}:
%
\begin{flalign}
	\eq{\dot{x}(t)}{(A-BK) \cdot x(t)}
	\label{xDotK} 
\end{flalign}
%
This gain matrix can be found using the Matlab command K = place(A,B,P), where P is a vector containing the desire position of the new poles.