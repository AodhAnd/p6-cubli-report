\chapter{Discussion}
The finished Cubli is intended to be a cube controlled by reaction wheels. In this project there was only worked on a one sided system of that cube. The performance of this system can be improved with respect to two goals. The first one being that this one frame, can be assembled into a cube.
The second goal is that the performance of the one sided system can be improved by just looking at it as reaction wheel inverted pendulum.
\\
%------------------------------------------------------------------------------
As already mentioned briefly in the complementary filter section, the measurement from the accelerometer in the IMU could be improved by moving the sensor to a position where it would be influenced less by the acceleration of the frame but still be able to measure the angle of the frame. \\
The placement of the IMU on the full Cubli is something that has to be determined. One way to do it if possible is to place the IMU in the very center of the Cubli. This would give the same disturbance regardless of which angle has to be measured.\\
Alternatively one sensor could be placed in each corner of the Cubli. That would mean using 4 IMU's. This way there is always at least one sensor very close the point of rotation, and thus it should be possible to get measurements with minimal disturbance from linear acceleration. A system could be implemented that keeps track of the orientation of the Cubli, so that the most reliable sensor always is selected as the one the controller trusts more.\\
%------------------------------------------------------------------------------
The Cubli will have to be able to jump up from a resting position. To do that the reaction wheel has to spin up. Once at the desired speed the wheel will be braked and the resulting torque will raise the Cubli. Now the system has to catch itself. In order to do that a separate controller might have to be designed that handles the jump up part, and then switches to the balancing controller for the position keeping part.\\
For the full Cubli there will be 3 brakes, one on each wheel, that have to be coordinated to raise the cube up to a desired position.\\
%------------------------------------------------------------------------------
It is possible that the controller no longer needs to balance each of them in upright position but to do another kind of maneuvers, which will require a new controller since the chosen one is not able to get a reference for the internal states different from zero.\\
The controller designed in this project can only keep the frame upright at the equilibrium position. It will not be possible to keep the frame at an angle different than \si{0^\circ} because the wheel cannot accelerate unlimited. Changing the restrictions that are on system might mean replacing a few components like the motor control board. Giving the motor a higher speed ceiling allows ths system to accelerate longer or accelerate faster to generate more torque. The longer the wheel can keep accelerating the longer will be able to keep the frame a position different from \si{0^\circ}.\\
%------------------------------------------------------------------------------
For the state space controller a set of poles were selected looking at the response they showed in the two simulations, \figref{catchingStateSpace} and \figref{catchingStateSpaceWheel}. Using different pole combinations results in different overshoots and settling time, so another pole combination could be selected if a different behavior of the Cubli was desired. 
The choice is whether a small overshoot is desired or if the frame is to reach \SI{0}{rad} faster. 
Having less overshoot would increase the maximum catching angle with the current system, since the second overshoot with the current used controller is larger than the angle inflicted by a disturbance. 
Braking the wheel faster gives the controller more acceleration to use in order to counteract a disturbance. \fxnote{rephrase the "more accel" thing}\\
%------------------------------------------------------------------------------
The classical controller designed and implemented was a single-input single-output system controller (SISO). A frequency design could maybe be done with multiple inputs and multiple controllers. It cannot be a cascaded design as that has been said to be impossible. \fxnote{if this is kept, reference that paper on this topic again}
%------------------------------------------------------------------------------
The Inertia of the reaction wheel could be changed. this could be done by changing its size and/or its mass. Assuming the same torque is wanted a larger inertia means a slower acceleration is needed to generate the torque. The larger inertia also means slower response time. A wheel with smaller inertia would have to accelerate faster to generate the same torque, but it would also have a faster response time. \fxnote{somebody double check my assumption about physics} The inertia of the wheel could be something that could be optimized, depending on what is needed for the rest of the system. More torque or faster response time.
%------------------------------------------------------------------------------

{\Large notes} \fxnote{delete this part its just to brainstorm what to write in this section}\\
- Placement of IMU\\
- Choice of Statspace variables for controller - minimize overshoot vs faster braking for wheel\\
- cut-off frequency of the complementary filter?\\
- code accessibility?\\
- classical controller?\\


%As already mentioned briefly in the complementary filter section, the measurement from the accelerometer in the IMU could be improved by moving the sensor to a position where it would be influenced less by the acceleration of the frame but still be able to measure the angle of the frame. 

%For the state space controller a set of poles were selected looking at the response they showed in the two simulations, \figref{catchingStateSpace} and \figref{catchingStateSpaceWheel}. Using different pole combinations results in different overshoots and settling time, so another pole combination could be selected if a different behavior of the Cubli was desired. 
%The choice is whether a small overshoot is desired or if the frame is to reach \SI{0}{rad} faster. 
%Having less overshoot would increase the maximum catching angle with the current system, since the second overshoot with the current used controller is larger than the angle inflicted by a disturbance. 
%Braking the wheel faster gives the controller more acceleration to use in order to counteract a disturbance. \fxnote{rephrase the "more accel" thing}
%\\-\\
%The classical controller designed and implemented was a single-input single-output system controller (SISO). A frequency design could maybe be done with multiple inputs and multiple controllers. It cannot be a cascaded design as that has been said to be impossible. \fxnote{if this is kept, reference that paper on this topic again}
%\\-\\
%The controller designed in this project can only keep the frame upright at the equilibrium position. It will not be possible to keep the frame at an angle different than \si{0^\circ} because the wheel cannot accelerate unlimited. Changing the restrictions that are on system might mean replacing a few components like the motor control board. Giving the motor a higher speed ceiling allows ths system to accelerate longer or accelerate faster to generate more torque. The longer the wheel can keep accelerating the longer will be able to keep the frame a position different from \si{0^\circ}.
%\\-\\
%The Inertia of the reaction wheel could be changed. this could be done by changing its size and/or its mass. Assuming the same torque is wanted a larger inertia means a slower acceleration is needed to generate the torque. The larger inertia also means slower response time. A wheel with smaller inertia would have to accelerate faster to generate the same torque, but it would also have a faster response time. \fxnote{somebody double check my assumption about physics} The inertia of the wheel could be something that could be optimized, depending on what is needed for the rest of the system. More torque or faster response time.
%\\-\\
